[toc]

### SS/SSR的工作原理与区别

## 1.什么是ss/ssr

起源：ss作者是[clowwindy](https://github.com/clowwindy) 他写了shadowsocks，一个基于socks5代理的软件。简称ss或者叫影袭(大意有潜伏袭击的意思)，测试之后发现这个东西非常好用，速度快，而且不容易被GFW检测封锁，于是他就把源码共享在了github上，然后就火了，但是后来作者被请去喝茶，所以删了代码，并且保证不再参与维护更新了。
ssr：在ss出现之后不久，github上又出现了一个叫breakwa11(破娃)的帐号，声称ss容易被防火墙检测到，所以在混淆和协议方面做了改进，更加不容易被检测到，而且兼容ss，改进后的项目叫shadowsocks-R(remake)，简称ssr，所以二者都是使用的socks5代理的，本质上走的协议都是一样的只是ssr基于安全性方面进行了改进。<br>

原理：socks5代理是把你的网络数据请求通过一条连接你和代理服务器之间的通道，由服务器转发到目的地，这个过程中你是没有通过一条专用通道的，只是数据包的发出，然后被代理服务器收到，整个过程并没有额外的处理。通俗的说，现在你有一个代理服务器在香港，比如你现在想要访问google，你的电脑发出请求，流量通过socks5连接发到你在香港的服务器上，然后再由你在香港的服务器去访问google，再把访问结果传回你的电脑，这样就实现了翻墙。在数据从你这里发出时，ss会把你发出的网络数据先在本地进行加密,然后再将你加密好的数据发送给GFW。因为建立的是一个加密的私密通讯所以GFW就放行了请求，请注意：与VPN不同，在发送数据之前，数据已经你的本地进行了加密计算。因此GFW通过分析之后确定这是一个正常合法的数据所以就放行了，通过GFW之后再发送到代理服务器。代理服务器以同样的方式进行了解析，将你的网络数据真实请求解析还原。随后，以同样的方式再次进行加密。但是，要注意：ss/ssr只是代理 socks5 ， 其它方式实现的不进行代理。下图为scoks5代理方式下的数据交互流程。<br>

![](https://blog.stock9host.com/wp-content/uploads/2020/07/what-is-shadowsocks.png)

## 2.vpn和ss/ssr的区别和优缺点

通过上面的介绍，大概已经知道了ss/ssr 的原理。现在来讲一下vpn，vpn是走的专用通道，它是用来给企业传输加密数据用的，所以vpn的流量特征很明显，以openvpn为例，更详细的在这里不说了，流量特征明显，防火墙在经历了解析多种相同的流量后，发现有许多流量都有着相同的特征。并记录了这些特征。直接分析你的流量，如果特征匹配，直接封掉。所以目前就翻墙来说，PPTP类型的vpn基本死的差不多了，L2TP大部分地区干扰严重很不稳定。

## 总结一下：

就翻墙来说，如果是轻量级的用户。强烈推荐大家使用ss/ssr，ss/ssr的成本是非常低的。当然重度使用用户也是可以选择ss/ssr 的，前提需要选择一些比较好的机场就可以。再来说vpn，vpn就安全性来看并不如ss/ssr，前面已经提到它是用来给企业传输加密数据用的，因此它的流量特征较为明显。而且vpn多数为企业使用的用途较多，大多为专线还比较好。但是价格，就不多说了。

***PS:本文内容仅仅为分析socks5代理的工作原理并作为学习相关知识为主。本文不涉及并提供任何有关于vpn/ss/ssr的软件，不提供任何实际技术上的开发支持。同时不会公开介绍推荐任何相关的机场或者其他代理服务。***